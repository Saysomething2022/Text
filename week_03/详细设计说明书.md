# 详细设计说明书
> ## 项目名称 : “有言以对论坛”网站建设
> ### 项目标识 : 校园论坛
> ### version : v3.0
> ### 状态与版本信息
> #### 文件状态 : 
> #### 文件标识 : 
> #### 当前版本 : 3.0 
> #### 作者
> ##### 姓名：刘亚男
> ##### 学号：2019011366
>
> ##### 姓名：房丽婷
>
> ##### 学号：2019011392
>
> ##### 团队 : 有言以队
> #### 完成日期 : 2022.9.
> #### 版本更新信息
> https://github.com/Saysomething2022/Text/tree/main/week_03
> ### 引言
> #### 使用人员 :
>
> &nbsp;&nbsp;软件设计人员、开发人员以及软件测试、维护人员。
>
> #### 编写目的 : 
>
> &nbsp;&nbsp;本说明书在系统概要设计的基础上，进一步细化系统各功能模块的设计，确定系统各模块的详细实现方法（包括实现算法，采用的数据结构等)，为编码实现阶段的工作提供依据。
>
> #### 背景 : 
>
> &nbsp;&nbsp;大约是从1991年开始，国内开始了第一个BBS站。经过长时间的发展，直到1995年，随着计算机及其外设的大幅降价，BBS才逐渐被人们所认识。1996年更是以惊人的速度发展起来。国内的BBS站，按其性质划分，可以分为2种：一种是商业BBS站，如新华龙讯网；另一种是业余BBS站，如天堂资讯站。由于使用商业BBS站要交纳一笔费用，而商业站所能提供的服务与业余站相比，并没有什么优势，所以其用户数量不多。多数业余BBS站的站长，基于个人关系，每天都互相交换电子邮件，渐渐地形成了一个全国性的电子邮件网络China FidoNet（中国惠多网）。于是，各地的用户都可以通过本地的业余BBS站与远在异地的网友互通信息。这种跨地域电子邮件交流正是商业站无法与业余站相抗衡的根本因素。由于业余BBS站拥有这种优势，所以使用者都更乐意加入。这里“业余”2字，并不是代表这种类型的BBS站的服务和技术水平是业余的，而是指这类BBS站的性质。一般BBS站都是由志愿者开发的。他们付出的不仅是金钱，更多的是精力。其目的是为了推动中国计算机网络的健康发展，提高广大计算机用户的应用水平。
>
> #### 定义与缩写
> ##### 术语及解释：
> 
| 术语 | 解释 |
| ---- | ---- |
| 游客 | 所有访问论坛，尚未登录的人 |
| 注册用户 | 申请注册并提交成功的人 |
| 版主 | 具有发布版块公告，管理版内帖子，删除/转移帖子等功能 |
| 系统管理员 | 具有宣布论坛开放/关闭注册，帖子的批量删除/转移，版块管理，用户管理功能的总版主 |
| 用户 | 此“用户”"泛指所有的注册用户和游客 |
| 管理人员 | 此“管理人员”泛指版主和系统管理员 |
| 注册 | 游客访问论坛按系统规则申请注册 |
| 登录 | 注册用户按系统规则登录论坛 |
| 退出 | 已登录用户退出登录状态 |
| 浏览主题 | 游客及登录的用户通过此业务按系统规则浏览论坛上各版块的主题。用户（包括所有注册用户或游客）通过此操作可以浏览自身权限许可范围内的论坛的板块列表，主题列表，以及每一个主题 |
| 发布主题 | 注册用户通过此业务按系统规则进行主题的发布 |
| 回复主题 | 注册用户通过此业务按系统规则进行主题的回复 |
| 修改帖子 | 注册用户和管理人员通过此业务按系统规则修改自己已发布的主题或回复的帖子 |
| 修改个人资料 | 注册用户通过此业务按系统规则修改自已在注册新用户时所填写的个人资料或是已经通过此业务修改过的个人资料 |
| 管理版内帖子 | 版主通过此业务按系统规则在自已管理的版块内对帖子进行锁定，解锁，置顶，取消置顶，加为精华，解除精华，删除帖子，移动帖子等操作 |
| 删除帖子 |管理人员通过此业务按系统规则在自已权限内对不良帖子进行删除操作 |
| 用户禁言 |管理人员通过此业务按论坛的规则对于屡次违反规定且拒不改悔的一般注册用户进行禁用操作，禁用后该用户无法正常登录 |
| 搜索帖子 | 注册用户和管理人员通过此业务按关键字对帖子进行查找 |
| 版块管理 | 系统管理员通过此业务按系统规则对版块进行管理，如版块的增加，重新命名，删除，关闭等操作 |
>
> #### 参考资料：
>
> 《软件工程导论》陈明编著。——北京机械工业出版社
>
> 《JSP项目开发全程实录》周桓，王殊宇等编著——北京清华大学出版社
>
> 《数据库系统概论》王珊萨师煊编著高等教育出版社
***
## 一、程序系统的结构

### 1.1 需求概述

&nbsp;&nbsp;(1) 注册管理:能够对用户名，密码的简单验证，能够防止利用页面刷新重复注册，已经存在的用户名称不能重复注册。
&nbsp;&nbsp;(2) 浏览帖子:可以根据作者或内容等为关键字搜索帖子，分论坛版块显示帖子，显示帖子详情，浏览帖子时不要求用户登录，但回复帖子前用户必须登录。
&nbsp;&nbsp;(3) 发表及回复帖子:仅登录用户才可以表和回复帖子，并且对帖子的字数有限制。
&nbsp;&nbsp;(4) 用户个人信息管理:登陆用户可以编辑注册后的个人资料，如修改密码等，但是不可以修改用户名称。也可以对自己发表的帖子进行操作:如修改，删除。
&nbsp;&nbsp;(5) 回复管理:各论坛版块的版主可以对自己管理的版块的帖子的回复的帖子进行管理，可以屏蔽回复。
&nbsp;&nbsp;(6) 论坛版块管理:只有管理员有该权限，管理员可以添加，删除版块，也可以修改版块资料，如版块名称，上级版块，版主。
&nbsp;&nbsp;(7) 用户管理:只有管理员有该权限，管理员可以禁用，启用用户，进行用户密码重置。
&nbsp;&nbsp;(8) 公告管理:只有管理员有该权限，管理员可以添加，删除公告。
&nbsp;&nbsp;(9) 帖子管理:各论坛版块的版主可以对自己管理的版块的帖子进行管理，可以屏蔽和删除帖子。

### 1.2 软件架构

![image](https://user-images.githubusercontent.com/89372363/193417588-31ef7da8-35f4-473f-85b3-8148eb18a7fe.png)

系统管理员及普通用户操作模块：

![b84d2147ee180f116b87d7372576613](https://user-images.githubusercontent.com/75230560/193378557-3753332d-c7a7-4334-8664-751be301d3b7.png)

管理员系统操作模块：

![53a5f9b6fc5c739dc0d931cd28c33ac](https://user-images.githubusercontent.com/75230560/193378732-26f46593-37bf-4963-b351-488ec219a172.png)

用户系统操作模块：

![da1752c7189857dc6000247fda32e5b](https://user-images.githubusercontent.com/75230560/193378831-b4c6e877-2627-415e-b50b-fc79b8bd216c.png)

## 二、程序设计说明

### 2.1 功能模块设计

&nbsp;&nbsp;通过对系统进行详细的需求分析，获得了一个最优的设计方案，将系统划分为若干功能子模块。为了方便后期的设计与编程工作，在划分系统功能模块时尽量注重模块的独立性，努力做到高内聚，低耦合。

#### 2.1.1 用户注册登陆模块

&nbsp;&nbsp;要完成论坛的各项操作，用户必须登陆论坛系统，如果没有论坛帐户，用户注册是必须的。用户命令如果是退出，则清除用户的状态信息，并返回BBS 首页，如果是登录则使用SQL-Server连接数据库，取得用户输入的帐号和密码并查询数据库，将得出的结果和用户输入的信息做比较，验证正确，显示用户已经登陆到系统，错误将返回消息让用户从新输入，如果用户想注册帐户，则返回注册页面，用户填写信息后，将检测信息的正确性，如果帐号允许注册，则完成帐号的注册，将信息写入到数据库中，如果帐户已经存在，则返回错误信息，告诉用户帐号存在，请用户重新输入，并完成注册，进程结束。

#### 2.1.2 用户信息管理模块

&nbsp;&nbsp;当用户登陆系统后，在个人工具箱中，可以通过点击个人资料修改的链接来进一步完善个人资料(其中帐户名是不允许修改的)，以及通过最近发表的话题来查看和修改自己发布的帖。

#### 2.1.3 文章管理模块

&nbsp;&nbsp;只有登录用户才可以发表、回复帖子以及浏览自己感兴趣的帖子，并且对帖子的字数有限制。用户登陆系统后可以查看其他所有用户发的文章，并可以发布自己的话题，也可响应回复其他用户和自己发表的话题，版主还可以发布版内公告、删除回复帖，以及对于发表不良言论的回帖可以禁止其回帖。
&nbsp;&nbsp;用户只要输入想查询的用户名，点击查询按钮，便可以查询出该用户发表的所有帖子以及该用户发表的帖子序号、标题、发帖时间、发帖人等详细信息，方使用户快速的找到自己想要的信息。

#### 2.1.4 公告制模块

&nbsp;&nbsp;论坛管理员可以通过后台管理系统发布论坛公告，公告可以选择版面，公告的主题，并可以设置字体的颜色大小等工具，同时可以设置对文章操作的客户积分。例如用户每发一篇文章，则增加一定量的积分。

#### 2.1.5 版块管理模块

&nbsp;&nbsp;论坛管理员可以通过后台管理系统控制论坛的版块，管理员输入正确用户名、密码之后便可以完成下列功能:添加分类或版面，版面配置或删除;并可以对已存在的版块设置属性(包括名称，类别，隐藏，属性，默认风格，主题，回复，排序等)。

#### 2.1.6 信息管理模块

&nbsp;&nbsp;信息管理模块主要完成下面的功能:社区信息配置:添加管理员:编辑管理员:设定等级:配置权限;重新登录:安全退出:用户等级:管理团队:用户列表;黑名单:用户查询。
&nbsp;&nbsp;以上的功能完成了整个论坛的配置，用户的管理，管理员的管理都可以通过对应的链接来完成。

### 2.2 功能

1) 注册模块:
&nbsp;&nbsp;会员注册，填写会员信息，检验信息的有效性，并将会员资料储存进数据库。

2) 登陆模块:
&nbsp;&nbsp;提供信息凭证，验证输入的信息是否合法，根据角色授权。

3) 用户管理模块:
&nbsp;&nbsp;已登录的管理员可以对会员信息进行部分更改，主要包括:会员角色调整，版主调整，删除用户等。

4) 版面管理模块:
&nbsp;&nbsp;已登录的管理员可以添加、删除、调整版面，还可以更新版主。

5) 类别管理模块:
&nbsp;&nbsp;已登录的管理员可以添加、删除类别。

6) 帖子管理模块:
&nbsp;&nbsp;管理员可以对所有帖子进行转移、置顶、删除等操作，版主可以转移本版块帖子，也可以对本版块帖子进行置顶、删除等操作。

7) 查看版面下根帖模块:
&nbsp;&nbsp;所有用户可以查看当前版面下的根帖，由服务器端检索出有关根帖信息，并分页显示客户端页面。

8) 查看精华帖模块:
&nbsp;&nbsp;所有用户可以查看当前版面下精华帖，由服务器端检索出有关精华帖信息，并分页显示在客户端页面。

9) 搜索根帖模块:
&nbsp;&nbsp;所有用户在客户端提供要搜索根帖的主要信息，由服务器端检索出有关根帖信息，并分页显示在客户端页面。

10) 查看根帖内容模块:
&nbsp;&nbsp;所有用户在客户端选定一个根帖，由服务器端送出该根帖的内容及其以下回复帖，并分页显示在客户端页面上。

11) 查看自己发表的根帖模块:
&nbsp;&nbsp;已登录用户可以查看自己发表的根帖信息，由服务器端检索，并分页显示在客户端页面。

12) 发表帖子模块:
&nbsp;&nbsp;已登录用户可以在自己感兴趣的版面发表帖子，完成后将帖子信息传送到服务器端并储存在数据库里。

13) 回复帖子模块:
&nbsp;&nbsp;已登录用户可以在自己感兴趣的根帖下发表自己的观点，完成后将回复帖信息传送到服务器端并储存在数据库里。

## 三、单元设计说明

### 标识符

### 自由表述

## 四、数据库设计

## 五、外部设计

#### 自由表述

## 六、结构设计

## 七、概念设计

&nbsp;&nbsp;使用简洁高效的方式实现校内用户的线上沟通以及对于线上言论的管理，加强校内信息交流的活跃度以及学生对于部分信息的快速了解即“抢先知”，同时也有助于增进学生教师的互动和了解。

## 八、逻辑结构设计

## 九、物理设计

## 十、运行设计

## 十一、数据字典设计

## 十二、安全保密设计

### 12.1 系统运行安全

&nbsp;&nbsp;包括法律、政策的保护，用户是否有合法权利，政策是否允许，死锁的避免和解除，电磁信息泄漏防止。

### 12.2 系统信息安全

&nbsp;&nbsp;包括用户口令字鉴别、用户存取权限控制、数据存取权限、方式控制、审计跟踪、数据加密。

## 十三、条件设计
### 13.1 限制条件

### 13.2 测试条件

&nbsp;&nbsp;(1) 没有注册的用户能够在登录时自动注册，并给出友好提示。
&nbsp;&nbsp;(2) 帖子列表支持分页显示，使得可以轻松查看所有帖子。
&nbsp;&nbsp;(3) 帖子拥有点击统计，更方便了解热点话题。
