# 详细设计说明书
> ## 项目名称 : “有言以对论坛”网站建设
> ### 项目标识 : 校园论坛
> ### version : v3.0
> ### 状态与版本信息
> #### 文件状态 : 已完成
> #### 文件标识 : 详细设计说明书
> #### 当前版本 : 3.0 
> #### 作者
> ##### 姓名：刘亚男
> ##### 学号：2019011366
> ##### 姓名：房丽婷
> ##### 学号：2019011392
> ##### 姓名：耿聪
> ##### 学号：2019013008
> ##### 姓名：郑时
> ##### 学号：2019011154
> ##### 团队 : 有言以队
> #### 完成日期 : 2022.10.4
> #### 版本更新信息
> https://github.com/Saysomething2022/Text/tree/main/week_03
> ### 引言
> #### 使用人员 :
>
> &nbsp;&nbsp;软件设计人员、开发人员以及软件测试、维护人员。
>
> #### 编写目的 : 
>
> &nbsp;&nbsp;本说明书在系统概要设计的基础上，进一步细化系统各功能模块的设计，确定系统各模块的详细实现方法（包括实现算法，采用的数据结构等)，为编码实现阶段的工作提供依据。
>
> #### 背景 : 
>
> &nbsp;&nbsp;大约是从1991年开始，国内开始了第一个BBS站。经过长时间的发展，直到1995年，随着计算机及其外设的大幅降价，BBS才逐渐被人们所认识。1996年更是以惊人的速度发展起来。国内的BBS站，按其性质划分，可以分为2种：一种是商业BBS站，如新华龙讯网；另一种是业余BBS站，如天堂资讯站。由于使用商业BBS站要交纳一笔费用，而商业站所能提供的服务与业余站相比，并没有什么优势，所以其用户数量不多。多数业余BBS站的站长，基于个人关系，每天都互相交换电子邮件，渐渐地形成了一个全国性的电子邮件网络China FidoNet（中国惠多网）。于是，各地的用户都可以通过本地的业余BBS站与远在异地的网友互通信息。这种跨地域电子邮件交流正是商业站无法与业余站相抗衡的根本因素。由于业余BBS站拥有这种优势，所以使用者都更乐意加入。这里“业余”2字，并不是代表这种类型的BBS站的服务和技术水平是业余的，而是指这类BBS站的性质。一般BBS站都是由志愿者开发的。他们付出的不仅是金钱，更多的是精力。其目的是为了推动中国计算机网络的健康发展，提高广大计算机用户的应用水平。
>
> #### 定义与缩写
> ##### 术语及解释：
> 
| 术语 | 解释 |
| ---- | ---- |
| 游客 | 所有访问论坛，尚未登录的人 |
| 注册用户 | 申请注册并提交成功的人 |
| 版主 | 具有发布版块公告，管理版内帖子，删除/转移帖子等功能 |
| 系统管理员 | 具有宣布论坛开放/关闭注册，帖子的批量删除/转移，版块管理，用户管理功能的总版主 |
| 用户 | 此“用户”"泛指所有的注册用户和游客 |
| 管理人员 | 此“管理人员”泛指版主和系统管理员 |
| 注册 | 游客访问论坛按系统规则申请注册 |
| 登录 | 注册用户按系统规则登录论坛 |
| 退出 | 已登录用户退出登录状态 |
| 浏览主题 | 游客及登录的用户通过此业务按系统规则浏览论坛上各版块的主题。用户（包括所有注册用户或游客）通过此操作可以浏览自身权限许可范围内的论坛的板块列表，主题列表，以及每一个主题 |
| 发布主题 | 注册用户通过此业务按系统规则进行主题的发布 |
| 回复主题 | 注册用户通过此业务按系统规则进行主题的回复 |
| 修改帖子 | 注册用户和管理人员通过此业务按系统规则修改自己已发布的主题或回复的帖子 |
| 修改个人资料 | 注册用户通过此业务按系统规则修改自已在注册新用户时所填写的个人资料或是已经通过此业务修改过的个人资料 |
| 管理版内帖子 | 版主通过此业务按系统规则在自已管理的版块内对帖子进行锁定，解锁，置顶，取消置顶，加为精华，解除精华，删除帖子，移动帖子等操作 |
| 删除帖子 |管理人员通过此业务按系统规则在自已权限内对不良帖子进行删除操作 |
| 用户禁言 |管理人员通过此业务按论坛的规则对于屡次违反规定且拒不改悔的一般注册用户进行禁用操作，禁用后该用户无法正常登录 |
| 搜索帖子 | 注册用户和管理人员通过此业务按关键字对帖子进行查找 |
| 版块管理 | 系统管理员通过此业务按系统规则对版块进行管理，如版块的增加，重新命名，删除，关闭等操作 |
>
> #### 参考资料：
>
> 《软件工程导论》陈明编著。——北京机械工业出版社
>
> 《JSP项目开发全程实录》周桓，王殊宇等编著——北京清华大学出版社
>
> 《数据库系统概论》王珊萨师煊编著高等教育出版社
***
## 一、程序系统的结构

### 1.1 需求概述


### 1.2 体系结构

该校园论坛系统采用三层体系结构将应用部分划分为三个逻辑层面，这三个逻辑层如下：

用户层（前端）,是论坛用户与论坛应用程序进行交互的端点。在该层用户注册完后随即可以以正常用户登录到论坛的讨论区，在论坛中进行讨论文章的阅读、发表、修改等功能。

中间层，它负责处理事务、数据库的访问及其他的核心应用逻辑。中间层可以有效地作为前台用户服务层和后台数据服务和数据存储之间的桥梁。

数据库层(后端)，或数据库服务层，该层负责检索和操作在一个或者多个数据存储中存储的数据。可将数据访问和操作分离。

其体系结构的逻辑关系图，如图所示：

![image](https://github.com/zhengshi119/project/blob/main/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.jpg?raw=true)

### 1.3 软件架构

![image](https://user-images.githubusercontent.com/89372363/193417588-31ef7da8-35f4-473f-85b3-8148eb18a7fe.png)

系统管理员及普通用户操作模块：

![b84d2147ee180f116b87d7372576613](https://user-images.githubusercontent.com/75230560/193378557-3753332d-c7a7-4334-8664-751be301d3b7.png)

管理员系统操作模块：

![53a5f9b6fc5c739dc0d931cd28c33ac](https://user-images.githubusercontent.com/75230560/193378732-26f46593-37bf-4963-b351-488ec219a172.png)

用户系统操作模块：

![da1752c7189857dc6000247fda32e5b](https://user-images.githubusercontent.com/75230560/193378831-b4c6e877-2627-415e-b50b-fc79b8bd216c.png)

## 二、程序设计说明

### 2.1 功能模块设计

&nbsp;&nbsp;通过对系统进行详细的需求分析，获得了一个最优的设计方案，将系统划分为若干功能子模块。为了方便后期的设计与编程工作，在划分系统功能模块时尽量注重模块的独立性，努力做到高内聚，低耦合。

#### 2.1.1 用户注册登陆模块

&nbsp;&nbsp;要完成论坛的各项操作，用户必须登陆论坛系统，如果没有论坛帐户，用户注册是必须的。用户命令如果是退出，则清除用户的状态信息，并返回BBS 首页，如果是登录则使用SQL-Server连接数据库，取得用户输入的帐号和密码并查询数据库，将得出的结果和用户输入的信息做比较，验证正确，显示用户已经登陆到系统，错误将返回消息让用户从新输入，如果用户想注册帐户，则返回注册页面，用户填写信息后，将检测信息的正确性，如果帐号允许注册，则完成帐号的注册，将信息写入到数据库中，如果帐户已经存在，则返回错误信息，告诉用户帐号存在，请用户重新输入，并完成注册，进程结束。

#### 2.1.2 用户信息管理模块

&nbsp;&nbsp;当用户登陆系统后，在个人工具箱中，可以通过点击个人资料修改的链接来进一步完善个人资料(其中帐户名是不允许修改的)，以及通过最近发表的话题来查看和修改自己发布的帖。

#### 2.1.3 文章管理模块

&nbsp;&nbsp;只有登录用户才可以发表、回复帖子以及浏览自己感兴趣的帖子，并且对帖子的字数有限制。用户登陆系统后可以查看其他所有用户发的文章，并可以发布自己的话题，也可响应回复其他用户和自己发表的话题，版主还可以发布版内公告、删除回复帖，以及对于发表不良言论的回帖可以禁止其回帖。
&nbsp;&nbsp;用户只要输入想查询的用户名，点击查询按钮，便可以查询出该用户发表的所有帖子以及该用户发表的帖子序号、标题、发帖时间、发帖人等详细信息，方使用户快速的找到自己想要的信息。

#### 2.1.4 公告制模块

&nbsp;&nbsp;论坛管理员可以通过后台管理系统发布论坛公告，公告可以选择版面，公告的主题，并可以设置字体的颜色大小等工具，同时可以设置对文章操作的客户积分。例如用户每发一篇文章，则增加一定量的积分。

#### 2.1.5 版块管理模块

&nbsp;&nbsp;论坛管理员可以通过后台管理系统控制论坛的版块，管理员输入正确用户名、密码之后便可以完成下列功能:添加分类或版面，版面配置或删除;并可以对已存在的版块设置属性(包括名称，类别，隐藏，属性，默认风格，主题，回复，排序等)。

#### 2.1.6 信息管理模块

&nbsp;&nbsp;信息管理模块主要完成下面的功能:社区信息配置:添加管理员:编辑管理员:设定等级:配置权限;重新登录:安全退出:用户等级:管理团队:用户列表;黑名单:用户查询。
&nbsp;&nbsp;以上的功能完成了整个论坛的配置，用户的管理，管理员的管理都可以通过对应的链接来完成。

### 2.2 功能

1) 注册模块:
&nbsp;&nbsp;会员注册，填写会员信息，检验信息的有效性，并将会员资料储存进数据库。

2) 登陆模块:
&nbsp;&nbsp;提供信息凭证，验证输入的信息是否合法，根据角色授权。

3) 用户管理模块:
&nbsp;&nbsp;已登录的管理员可以对会员信息进行部分更改，主要包括:会员角色调整，版主调整，删除用户等。

4) 版面管理模块:
&nbsp;&nbsp;已登录的管理员可以添加、删除、调整版面，还可以更新版主。

5) 类别管理模块:
&nbsp;&nbsp;已登录的管理员可以添加、删除类别。

6) 帖子管理模块:
&nbsp;&nbsp;管理员可以对所有帖子进行转移、置顶、删除等操作，版主可以转移本版块帖子，也可以对本版块帖子进行置顶、删除等操作。

7) 查看版面下根帖模块:
&nbsp;&nbsp;所有用户可以查看当前版面下的根帖，由服务器端检索出有关根帖信息，并分页显示客户端页面。

8) 查看精华帖模块:
&nbsp;&nbsp;所有用户可以查看当前版面下精华帖，由服务器端检索出有关精华帖信息，并分页显示在客户端页面。

9) 搜索根帖模块:
&nbsp;&nbsp;所有用户在客户端提供要搜索根帖的主要信息，由服务器端检索出有关根帖信息，并分页显示在客户端页面。

10) 查看根帖内容模块:
&nbsp;&nbsp;所有用户在客户端选定一个根帖，由服务器端送出该根帖的内容及其以下回复帖，并分页显示在客户端页面上。

11) 查看自己发表的根帖模块:
&nbsp;&nbsp;已登录用户可以查看自己发表的根帖信息，由服务器端检索，并分页显示在客户端页面。

12) 发表帖子模块:
&nbsp;&nbsp;已登录用户可以在自己感兴趣的版面发表帖子，完成后将帖子信息传送到服务器端并储存在数据库里。

13) 回复帖子模块:
&nbsp;&nbsp;已登录用户可以在自己感兴趣的根帖下发表自己的观点，完成后将回复帖信息传送到服务器端并储存在数据库里。

## 三、单元设计说明

### 用户注册登录功能

&nbsp;&nbsp;此部分是实现用户的注册功能。通过填写注册资料，正确填写后，点击注册按钮后便可注册成为正式的用户。用户名只能是3- 12位单字字符，并且不允许注册重复的用户名。性别只能选择男或女其中一个。密码最多不能超过12位，两次密码必须输入一致，否则不可以注册 。E-mail必须输入有效的邮箱地址，以便日后能使用到论坛的各种功能。只要用户按照出现提示信息输入进去就可以了。用户注册成功后就可以使用论坛所拥有的一切功能了。

&nbsp;&nbsp;用户在注册完毕后就可以输人你注册时用的用户名字和密码， 然后填写验证码，点击登录，就能登录这个论坛网站进行帖子的浏览, 发表新的帖子，也可以对别人的帖子回复进行评价， 如果你还没有没有注册，那么你可以点击登录系统的注册按钮， 注册你的账号。

### 用户发帖与回复功能

&nbsp;&nbsp;此部分实现用户的发表新帖以及回帖等功能。

&nbsp;&nbsp;发表帖子功能只针对注册用户开放,没有注册的网友是无法发表新的帖子的，如果你想发表新的主题内容，就必须要进行登陆。如果您还没有账号， 那么就必须在注册以后才可以直接点击发表帖子按钮。进到发表帖子页面后，首先要写自己想发表的主题内容，然后填写作者和所要写的内容。如果您没有登陆，而直接点击发表主题，则会直接跳到用户登陆页面。登录后跳回到发表帖子的页面，然后点击发表你的帖子，系统会提示你，帖子发表成功的字样。然后自动跳转回你所发表帖子的页面，然后可以进行其他的操作。

&nbsp;&nbsp;点击“查看评论”后，就可以查看这个帖子中的信息和以及网友对帖子进行的评论，帖子的评论按照游客的评论时间进行显示，最后一次评论的内容显示在最顶端，也就是大家所谓的“沙发”。 

&nbsp;&nbsp;管理员回复评论必须是针对某个游客的评论，点击“发表评论”即可对当前帖子进行评论。

&nbsp;&nbsp;游客发帖完毕,管理员即可对任意一个评论进行回复,假如你没有登录，会提示让版主登录， 登录完之后， 即可对评论进行回复。

&nbsp;&nbsp;发表成功回到显示主题页面再点击主题会看到主题贴的相关内容和回复内容。


### 版主管理帖子评论功能

&nbsp;&nbsp;此部分主要是管理员对论坛的帖子和会员进行综合管理，删除、 编辑、查询等等。对恶意灌水的会员进行禁言或封号等处理。对有不良影响的帖子进行删除或者修改，对本站有贡献的帖子进行查询，并给予置顶以示奖励。版主在发表新帖列表中点击“删除”，假如版主没有登录，会提示登录，登录之后即可把本帖删除，删除帖子后， 此帖子下的游客评论和版主的回复评论内容都会被删除， 所以一定要慎重操作。

&nbsp;&nbsp;首先用session判断管理员是否登陆，如果没有登陆直接在浏览器里面输入管理界面的地址且其不能对其内容进行操作。这样保证了数据的安全性，也不可对帖子下的评论进行删除。版主在已经登录的情况下只需要点“删除评论”项，即可对用户的评论进行删除。


## 四、数据库设计
&nbsp;&nbsp;根据用户、头像、帖子、评论、版块、管理员间的对应关系，本系统的数据库数据库E-R图设计如图所示：
![image](https://github.com/wang990921/note/blob/main/E-R.png)

**数据库表设计**

&nbsp;&nbsp;用户表（user） 表记录了账号的基本信息和详细信息，包括用户id，用户名，密码，注册时间，用户性别，地址，电子邮箱，用户年龄，个人简介，联系电话。

&nbsp;&nbsp;帖子表（post）表记录了所有帖子的所有信息，包括帖子id，初次发表时间，发帖用户的id，发帖用户的用户名，该帖子当前的审核状态，帖子题目，正文，图片，所属的版块id。

&nbsp;&nbsp;评论表（comment）表记录了所有评论的所有信息，包括评论id，发评论用户的id，该评论所属的帖子id，该评论的具体内容，评论发表的时间。

&nbsp;&nbsp;版块表（section）表记录了所有版块的所有信息，包括版块id，该版块的名称，该版块的创建时间。

&nbsp;&nbsp;头像表（image）记录了所有用户和其头像的对应关系，包括用户id，该头像的链接，头像的上传时间。

&nbsp;&nbsp;收藏表（collect）表记录了所有收藏关系的信息，包括收藏id，被收藏帖子的id，收藏该帖子的用户id，被收藏的时间。

&nbsp;&nbsp;点赞表（like）记录了所有点赞关系的信息，包括点赞id，被点赞帖子的id，点赞用户的id，点赞时间。

&nbsp;&nbsp;管理员（manager）表记录了所有管理员的，包括管理员id，账号名字，密码。



## 五、外部设计

### 5.1分类
可对校园论坛进行分类，可参考如下图：
![image](https://raw.githubusercontent.com/zhengshi119/project/main/%E6%A0%A1%E5%9B%AD%E8%AE%BA%E5%9D%9B%E5%88%86%E7%B1%BB.jpg)

### 5.2界面布局设计
&nbsp;&nbsp;**（1）主页布局设计**

&nbsp;&nbsp;①系统首页分为三个部分：顶部栏、文章展示、版块选择。

&nbsp;&nbsp;②其中顶部栏左侧显示论坛logo和“首页”按钮，点击即可从任意页面跳转至系统首页；顶部栏靠近中间部分为搜索框，左半为一个文本框，右边为“搜索”按钮；顶部栏右侧包括一个管理端入口和一个“登陆”按钮，在用户登陆后则变为用户头像和“写文章”按钮，点击头像后可选择进入个人主页、修改基本信息、退出登陆等。

&nbsp;&nbsp;③文章展示部分大约占页面左侧四分之三的区域，从上至下排列每一篇帖子的简略信息，包括用户、标题、正文开头、配图、发布时评论数、收藏按钮、点赞按钮等，若未登录则点赞按钮显示为“登陆后点赞”文字，收藏按钮显示为“登陆后收藏”文字。若用户进行了版块筛选或关键词筛选，则该部分显示筛选后的文章列表。

&nbsp;&nbsp;④版块选择部分显示系统中的所有版块，包括版块图标与名字，用户点击后系统在左侧显示筛选后的结果。


&nbsp;&nbsp;**（2）个人主页布局设计**

&nbsp;&nbsp;①用户个人主页由三部分构成，包括顶部栏、个人信息、帖子列表，其中顶部栏与首页相同。

&nbsp;&nbsp;②个人信息包括背景图、用户头像、账号名、居住地、简个人介、用户邮箱、性别、年龄等，自上至下靠左显示，中间偏右侧区域有“编辑资料”按钮，点击后弹出模态框，可以修改个人资料。
&nbsp;&nbsp;帖子列表有三个标签，分别是动态、回答和收藏，选择后，分别纵向展示该用户发布的帖子、回复过的帖子、收藏的帖子的基本信息。


&nbsp;&nbsp;**（3）发帖页面布局设计**

&nbsp;&nbsp;用户点击“写帖子”按钮后进入发帖页面，页面顶部的顶部栏与主页相同。主体部分自上至下排列帖子的各项信息，依次为配图、标题、版块、正文。

&nbsp;&nbsp;**（4）管理员端布局设计**

&nbsp;&nbsp;①管理员端页面分为三个主要区域：顶部栏、左侧功能选择、右侧数据展示。

&nbsp;&nbsp;②顶部栏左侧按钮可切换至用户端，右侧为登陆按钮，登陆后改为退出按钮，并显示该管理员的头像和账号名。

&nbsp;&nbsp;③左侧功能选择栏显示管理员头像，下面是各项管理栏目的选择，包括用户管理、文章管理、版块管理。

&nbsp;&nbsp;④右侧大片区域为数据展示区，根据左侧选择的不同分别展示用户信息、帖子信息、版块信息，均为纵向排列，横向展示详细信息，其中用户管理的最右侧有删除用户按钮，帖子管理的最右侧显示该帖子的

&nbsp;&nbsp;⑤审核状态以及审核功能按钮，版块管理右侧有修改按钮和删除按钮，顶部有新增按钮。


## 六、结构设计
![img](https://img.javabysj.cn/upload/20181019/153992631641932.png)

## 七、概念设计

### 数据流图
&nbsp;&nbsp;数据流代表着这个系统的数据流向，它描述的是数据在整个系统的流向和加工过程，数据流图如下：

![image](https://github.com/wang990921/note/blob/main/1.png)
![image](https://github.com/wang990921/note/blob/main/2.png)

### 系统E-R图
&nbsp;&nbsp;1. E-R图为实体- 联系图，提供了表示实体型、属性和联系的方法，用来描述现实世界的概念模型。用于表示你所分析的各个表之间的关系及结构，构成E-R图的基本要素是实体型、属性和联系，其表示方法为:

+ 实体型: 用矩形表示，矩形框内写明实体名；
+ 属性:用椭圆形表示，并用无向边将其与相应的实体连接起来;
+ 联系:用菱形表示，菱形框内写明联系名，并用无向边分别与有关实体连接起来，同时在无向边旁标上联系的类型(1 : 1, 1 : n或m : n)。

&nbsp;&nbsp;2. 由以上关系产生以下图形：

![image](https://github.com/wang990921/note/blob/main/yh.png)

![image](https://github.com/wang990921/note/blob/main/tz.png)

![image](https://github.com/wang990921/note/blob/main/pl.png)

![image](https://github.com/wang990921/note/blob/main/sc.png)

## 八、逻辑结构设计

### E-R模型转换为关系模型
&nbsp;&nbsp;1. E-R图向关系模型的转换要解决的问题是如何将实体和实体间的联系转换为关系模式，如何确定这些关系模式的属性和码。转换原则如下:

+ 一个实体型转换为一个关系模式。
+ 一个1: 1联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并。
+ 一个1: N联系可以转换为一个独立的关系模式，也可以与N端对应的关系模式合并。
+ 一个M: N联系转换为一个关系模式。
+ 具有相同码的关系模式可以合并。
+ 根据范式理论对关系模式进行优化。在数据库中，数据冗余可能性会带来操作异常和占用系统存贮资源的问题;因此，要根据数据库的范式理论消除数据冗余，避免上述两种不良情况的发生;一般来说， 数据库要达到3NF的要求。但是适当的数据冗余又可以提高的效率，所以各种情况要综合考虑。

&nbsp;&nbsp;2.根据上面的原则，该系统的关系模型转换如下:

&nbsp;&nbsp;用户信息（用户id、用户名、密码、注册时间、用户性别、地址、电子邮箱、用户年龄、个人简介、联系电话）

&nbsp;&nbsp;帖子信息（帖子id、初次发表时间、发帖用户的id、发帖用户的用户名、该帖子当前的审核状态、帖子题目、正文、图片、所属的版块id）

&nbsp;&nbsp;评论信息（评论id、发评论用户的id、该评论所属的帖子id、该评论的具体内容、评论发表的时间）

&nbsp;&nbsp;版块信息（版块id、该版块的名称、该版块的创建时间）

&nbsp;&nbsp;头像信息（用户id、该头像的链接、头像的上传时间）

&nbsp;&nbsp;收藏信息（收藏id、被收藏帖子的id、收藏该帖子的用户id、被收藏的时间）

&nbsp;&nbsp;点赞信息（点赞id、被点赞帖子的id、点赞用户的id、点赞时间）

&nbsp;&nbsp;管理员信息（管理员id、账号名字、密码）

## 九、物理设计
### 系统数据字典
&nbsp;&nbsp;详见第十一部分数据字典设计。

### 数据库的连接
&nbsp;&nbsp;由于多个页面中需要打开数据库，可将数据库的连接字符串和连接对象保存在一个单独的文件中，使用时只需将其包含到页面中即可。


## 十、运行设计

### 10.1 运行模块组合

&nbsp;&nbsp;系统是基于javaweb技术开发完成的,多窗口的环境下通过调试模块内实现不同窗体的链接。

### 10.2 运行控制

&nbsp;&nbsp;用户利用系统平台通过发布、删除或修改帖子实现言论信息的公开展示，而管理员利用赋予的权限进行对于相关言论的管理

### 10.3 运行时间

1. 系统运行不响应时间不能超过10秒

2. 对系统进行操作时，响应时间在5秒之内

3. 多用户操作时，时间和相应的要求同上

## 十一、数据字典设计


1. user_info 表：

|字段名|	数据类型|	字段长度|	是否主键|是否外键|	是否为空|	备注|
| --------- |--------- |--------- |--------- |----------|--------- |--------- |
|user_id	|int|	15	|是|否|	否|	用户 id|
|user_name	|varchar	|50|	否	|否 |否	|用户名|
|user_age	|int	|50|	否	|否 |否	|用户年龄|
|user_password| varchar | 50       | 否     |否  | 否       |密码|
|user_sex|	varchar|	2	|否	|否|否|	 用户性别|
|user_phone|	varchar|	255|	否|否|	否|	联系电话|
|user_email|	varchar|	200|	否|否|	否|	电子邮箱|
|user_from	|varchar|	200|	否|否|	否|	地址|
|user_intro	|varchar	|50|	否	|否 |否	|个人简介|
|user_createtime|	datatime|	|	否|否|	否|	创建时间|

2. post_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|post_id|	int|	10|	是|否|	否|	发帖 id|
|post_title|	varchar|	255|	否|否|	否|	帖子标题|
|post_content|	varchar|	255|	否|否|	否|	帖子内容|
|post_photo|	varchar|	255|	否|否|	否|	帖子照片|
|section_name|	varchar|	255|	否|否|	否|	所属版块|
|post_createtime|	datatime|	|	否|否|	否|	发帖时间|
|user_id|	int |	255|	否|是|	否|	 发帖用户id|
|user_name|	varchar|	255|	否|否|	否|	 发帖用户名|
|post_status|	int|	255|	否|否|	否|	审核情况|


3. comment_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|comment_id|	int|	10|	是|否|	否|	评论 id|
|comment_content|	varchar|	255|	否|否|	否|	评论内容|
|user_id|	int |	255|	否|是|	否|	 发评论用户id|
|post_id|	int|	255|	否|是|	否|	 被评论帖子id|
|comment_createtime|	datatime|	|	否|否|	否|	评论发布时间|


4. section_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|section_id|	int|	10|	是|否|	否|	版块 id|
|section_name|	varchar|	255|	否|否|	否|	版块名|
|section_createtime|	datatime|	|	否|否|	否|	版块创建时间|


5. image_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|user_id|	int|	10|	是|是|	否|	用户 id|
|image_photo|	varchar|	255|	否|否|	否|	图片链接|

6. collect_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|collect_id|	int|	10|	是|否|	否|	收藏 id|
|user_id|	int |	255|	否|是|	否|	 收藏用户id|
|post_id|	int|	255|	否|是|	否|	 被收藏帖子id|

7. like_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|like_id|	int|	10|	是|否|	否|	点赞 id|
|user_id|	int |	255|	否|是|	否|	 点赞用户id|
|post_id|	int|	255|	否|是|	否|	 被点赞帖子id|


8. manager_info 表：

|字段名	|数据类型|	字段长度|	是否主键|是否外键|	是否为空	|备注|
| --------- |--------- |--------- |--------- |------|--------- |--------- |
|manager_id|	int|	10|	是|否|	否|	管理员 id|
|manager_name|	varchar|	255|	否|否|	否|	管理员名|
|manager_password| varchar | 50       | 否     |否  | 否       |密码|
|manager_createtime|	datatime|	|	否|否|	否|	创建时间|


## 十二、安全保密设计

### 12.1 系统运行安全

&nbsp;&nbsp;包括法律、政策的保护，用户是否有合法权利，政策是否允许，死锁的避免和解除，电磁信息泄漏防止。

### 12.2 系统信息安全

&nbsp;&nbsp;包括用户口令字鉴别、用户存取权限控制、数据存取权限、方式控制、审计跟踪、数据加密。系统提供完善的日志管理体系。系统对用户登录情况，如登录用户、进入时间、操作功能项等进行自动记录； 对于数据录入、数据提交、任务开始和数据分析等应用处理的时间、数据范围、 执行情况等也自动记录日志，以便出问题时跟踪追查审计。

&nbsp;&nbsp;系统对于交易数据和日志，系统具有完善的防篡改机制，防止对数据和交易日志文件进行直接修改。系统对于前端请求后端的机制进行了相关类名，方法，数据进行加密处理，无法对前端数据进行篡改。系统通讯层可以对报文中的敏感字段进行加密处理，如密码等，以防密码信息泄露，同时通讯层可以对报文进行md5计算，然后将计算的值放入报文头中，系统得到报文之后对报文体在进行md5计算，然后将计算的值跟报文头中的md5值进行比较，以确保报文未被篡改，保证数据传输的安全性。

## 十三、条件设计
### 13.1 限制条件

&nbsp;&nbsp;(1) 未注册用户无法进行发帖或回复功能，仅能查看已发布帖子。<br>

&nbsp;&nbsp;(2) 普通用户仅能进行对于自己发帖和帖子下回复的管理。<br>


### 13.2 测试条件

&nbsp;&nbsp;(1) 没有注册的用户能够在登录时自动注册，并给出友好提示。<br>

&nbsp;&nbsp;(2) 帖子列表支持分页显示，使得可以轻松查看所有帖子。<br>

&nbsp;&nbsp;(3) 帖子拥有点击统计，更方便了解热点话题。<br>
